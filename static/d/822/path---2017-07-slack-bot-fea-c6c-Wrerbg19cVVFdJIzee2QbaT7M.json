{"data":{"markdownRemark":{"html":"<p>I read a thread on Reddit about WolframAlpha API and I decided to try my hands on it. I created two slack Bot using WolframAlpha and both work very nicely see some of the best tweets from <a href=\"https://twitter.com/The_L__\">L</a>. There is an issue with WolframAlpha API it allows only 2000 API calls in a month, you need to take their paid plans if you make heavy usages.</p>\n<p>Ok, before we start the tutorial, I would like to mention, if you are preparing for the internship or full-time job, make sure you read one of the best guides currently available on the web: <a href=\"https://eulercoder.me/2017/07/summer-internship-ultimate-guide/\">Summer Internship - The Ultimate Guide.</a> And, if you want to contribute to Open Source projects like this Slack bot, I highly recommend you to read our<a href=\"https://eulercoder.me/2017/07/getting-started-open-source/\"> Getting started with Open Source Guide</a>.</p>\n<p>Ok so let's get started.</p>\n<p>This tutorial is about How to create your own Slack Bot using WolframAlpha API. I created one but you can not use it directly as it uses my App-Id and can make only 2000 API calls. (Obviously, I'm not going to spend my money)</p>\n<p>You need basic knowledge of python to create your own Slack Bot.</p>\n<!-- more -->\n<h1>Steps to create Slack Bot</h1>\n<h2>Step 1: Basic Stuff</h2>\n<ul>\n<li>\n<p><a href=\"https://developer.wolframalpha.com\">Dev WolframAlpha</a></p>\n<ul>\n<li>Go to developer WolframAlpha and create your account.</li>\n</ul>\n</li>\n</ul>\n<pre><code>  * Go to [My apps](https://developer.wolframalpha.com/portal/myapps/index.html) section and click on Get an AppID.\n</code></pre>\n<p><img src=\"https://eulercoder.me/wp-content/uploads/2017/07/Webp.net-compress-image.jpg\" alt=\"get App ID - Wolframalpha Eulercoder\"></p>\n<pre><code>  * Note your AppID. You will use this AppID to make calls.\n</code></pre>\n<ul>\n<li>\n<p><a href=\"https://www.heroku.com\">Heroku</a></p>\n<ul>\n<li>Go to Heroku and create an account there. Heroku allows you to deploy maximum 5 apps on the cloud for free.</li>\n</ul>\n</li>\n</ul>\n<pre><code>  * Once you create your account there. Go to [Dashboard](https://dashboard.heroku.com/).\n\n\n  * Click on the '+' sign or 'New' on the top right, create a new app.\n</code></pre>\n<p><img src=\"https://eulercoder.me/wp-content/uploads/2017/07/heroku-new-app.png\" alt=\"Create new app - heroku\"></p>\n<pre><code>  * Write the name and click on Create App.\n\n\n  * You will be redirected to your app page. Click on Connect to Dropbox. I'll tell you the reason why we are choosing Dropbox to for our code hosting.\n</code></pre>\n<h2>Step 2: Changes in Code</h2>\n<ul>\n<li>\n<p>Download my repo in <a href=\"https://github.com/eulercoder/slack-TheL/archive/master.zip\">Zip</a> or <a href=\"https://github.com/eulercoder/slack-TheL#fork-destination-box\">fork</a> it to make changes on git in the future.</p>\n</li>\n<li>\n<p>Files in your directory</p>\n<ul>\n<li>\n<p>LICENCE: This is my LICENCE file.</p>\n</li>\n<li>\n<p><code>Procfile</code>: This is a startup file and tells what is the first step when we deploy our app on the cloud.</p>\n</li>\n<li>\n<p><code>app.json</code>: It is a manifest format for describing web apps. It declares environment variables, add-ons, and other information required to run an app on Heroku. This document describes the schema in detail.</p>\n</li>\n<li>\n<p><code>app.py</code>: Main part of your project.</p>\n</li>\n<li>\n<p><code>config.py.example</code>: <code>config.py</code> files store variables and other stuff which is used in your project (Flask).</p>\n</li>\n<li>\n<p><code>requirements.txt</code>: This file specifies Python Module dependencies. All the required modules would be downloaded first while deploying your app. Read more about it <a href=\"https://devcenter.heroku.com/articles/python-pip\">here</a>.</p>\n</li>\n</ul>\n</li>\n<li>\n<p>Changes to be made</p>\n<ul>\n<li>\n<p>Open your project click on file<code>config.py.example</code> and add your APP_ID in single quotes.</p>\n</li>\n<li>\n<p>Change the name of the file from <code>config.py.example</code> to <code>config.py</code>.</p>\n</li>\n<li>\n<p>If I upload my file<code>config.py</code> on GitHub, anyone can use my APP_ID to make calls. That's the reason naming it as <code>config.py.example</code> :p</p>\n</li>\n</ul>\n</li>\n</ul>\n<h2>Step 3: Upload your code to Dropbox</h2>\n<ul>\n<li>\n<p>open your <a href=\"https://eulercoder.me/recommends/dropbox/\">Dropbox</a> account.</p>\n</li>\n<li>\n<p>If you have connected your account to Dropbox as mentioned in step 1. Open this <a href=\"https://www.dropbox.com/home/Apps/Heroku\">link</a>.</p>\n</li>\n<li>\n<p>You'll see a folder with the name of your app on <a href=\"https://dashboard.heroku.com/\">Heroku</a> .</p>\n</li>\n<li>\n<p>Open that folder and upload all your files there.</p>\n</li>\n</ul>\n<h2>Step 4: Deploying your app on Heroku</h2>\n<ul>\n<li>\n<p>Open your Heroku <a href=\"https://dashboard.heroku.com/\">Dashboard</a>.</p>\n</li>\n<li>\n<p>Click on your app and then deploy.</p>\n</li>\n<li>\n<p>In deploy tab, in Deploy changes section. Write and<code>commit</code> click on Deploy.</p>\n</li>\n<li>\n<p>This will download all the app dependencies. If everything is fine, you will see a green tick and your deploy is on the cloud!</p>\n</li>\n</ul>\n<h2>Step 5: Integrate it in your team</h2>\n<ul>\n<li>\n<p>Open your slack. It should be like.<code>{your_slack_url}/home</code></p>\n</li>\n<li>\n<p>Click on Integration in the upper left section.</p>\n</li>\n<li>\n<p>Click on Configured Integrations.</p>\n</li>\n<li>\n<p>click on Add next to slash Commands.</p>\n<ul>\n<li>\n<p>Command: <code>thel</code> [If you want to change this check explanation of the code below]</p>\n</li>\n<li>\n<p>URL: <code>{your_herokuapp_url}/thel</code> [This can be changed see, code below]</p>\n</li>\n<li>\n<p>Customize name: Give it some name. I gave it - <code>The L</code></p>\n</li>\n<li>\n<p>For the <strong>Autocomplete help text</strong>, check to show the command in auto-complete list.</p>\n</li>\n<li>\n<p>Description: <code>The Genius L, is now in slack to answer all your queries</code> OR [anything you want to write].</p>\n</li>\n<li>\n<p>Usage Hint: <code>search query</code></p>\n</li>\n<li>\n<p>Descriptive Level: Search Query</p>\n</li>\n</ul>\n</li>\n</ul>\n<h2>Step 6: All Done!</h2>\n<ul>\n<li>\n<p>Open your slack channel and type <code>/thel</code> or <code>[your command]</code> and type Query.</p>\n</li>\n<li>\n<p>Everything is working fine you will see the result.</p>\n</li>\n<li>\n<p>Try basic Queries first for the testing purpose, it will give an instant response.</p>\n</li>\n<li>\n<p>Congratulation you just created a new Slack Bot for your own Team!! Have fun! :beers:</p>\n</li>\n</ul>\n<h1>Explanation of the Code</h1>\n<p>I already explained usages of the files in the directory. I created this Slack Bot using <a href=\"https://pypi.python.org/pypi/wolframalpha\">WolframAlpha Module</a> and <a href=\"https://flask.pocoo.org/\">Flask</a> framework. You should know working with Python modules and all the syntax to understand the code.</p>\n<pre><code>&#x3C;code class=\"language-python\">__author__ = 'vikesh'  # this is the author name\n\nimport os  # This module provides a portable way of using operating system dependent functionality.\nimport wolframalpha\n# I have used Wolframalpha module, written in python to work with Wolframalpha API.\n# Read more about it here: https://pypi.python.org/pypi/wolframalpha\n\nfrom flask import Flask, request, Response, redirect\n# Modules from Flask\n\n\n\ntry:\n    import config       # Import config.py file\n    wol_id = config.wolframalpha['app_id']   # assign APP_ID from config.py to wol_id\nexcept:\n    wol_id = os.environ.get('APP_ID')   # load envoironment variable\n\n\nif not wol_id:        # if wol_id is not present display error and exit\n    import sys\n    print 'No config.py found exisiting...'\n    sys.exit(0)\n\n\napp = Flask(__name__)     # initiate flask app\n\nclient = wolframalpha.Client(wol_id)      # this is from Wolframa moudule. Initiate Client using Wol_id\n\n\n@app.route('/thel',methods=['post'])\ndef thel():\n    '''\n    :Example:\n    /thel current weather in mumbai?\n    '''\n    '''\n    this is about routing of the URL in flask.\n    If you want to change the command from `/thel` to something else. you have to change the app.route('/thel') to\n    your own command. Also change the function name.\n    '''\n    text = request.values.get('text')    # Get Query\n    try:\n        res = client.query(text)       # Get result from Wolframalpha API.\n    except UnicodeEncodeError:    # if coudln't get the response show error.\n        return Response(('Sorry I did\\'t get you. Would you please simplify your query?'\n                        '%s is not valid input.' % text),\n                        content_type='text\\plain; charset=utf-8')\n    resp_qs = ['Hi Top Answer for \"%s\"\\n' % text]    # if Query is successful show result.\n    resp_qs.extend(next(res.results).text)     # iterate the result\n\n    return Response(''.join(resp_qs),\n                    content_type='text/plain; chatset=utf-8')     # return response.\n\n@app.route('/')\ndef hello():      # if someone tries to open the link directy redirect him somewhere :p\n    return redirect('https://github.com/vicky002/slack-TheL')\n\n\nif __name__ == '__main__':\n    port = int(os.environ.get('PORT',5000))    # run your app on local\n    app.run(host='0.0.0.0', port=port)&#x3C;/code>\n</code></pre>\n<p>Please comment below for the issues related to the post and anything related to My Slack bot Please use the <a href=\"https://github.com/vicky002/slack-TheL/issues\">issue tracker</a> to report any bugs or file feature requests. You can also join <a href=\"https://eulercoder.me/about/\">Eulercoder</a> Organization on Github, just us <a href=\"mailto:hello@eulercoder.com\">an email </a>with following details - Your Name, Your Education level and whether you want to join as a contributor or a mentor.</p>\n<hr>\n<p>**Have something to talk about? Want to <a href=\"https://eulercoder.me/contribute/\">contribute</a> to our <a href=\"https://eulercoder.me/about\">Mission and Goal</a>? Write on Eulercoder. Write an <a href=\"mailto:hello@eulercoder.com\">email to us</a> or <a href=\"https://eulercoder.me/contact\">contact us</a> for guest posts. **</p>\n<p>Did you found this article useful? Write your comments below. ðŸ™‚</p>\n<p>If you found this article useful, do share with your friends. Letâ€™s help everyone in becoming a better developer and help them in learning programming. <a href=\"https://eepurl.com/bRklFn\">Subscribe to our newsletter</a> and get weekly curated content directly in your mail box. Also, we have our own group on FB, we take Q&#x26;A, post materials in the group. Iâ€™ll highly recommend you Like <a href=\"https://www.facebook.com/eulercoder\">our FB page</a> and <a href=\"https://www.facebook.com/groups/eulercoder\">join our FB Group.</a> for discussions and latest updates.</p>","frontmatter":{"title":"Slack Bot using Wolframalpha API - Basic Guide","categories":["learning","tutorials"],"date":"23 July, 2017","author":{"fields":{"slug":"/contributors/vicky002"},"id":"vicky002"}}}},"pageContext":{"slug":"/2017/07/slack-bot","next":{"frontmatter":{"title":"Competitive Programming and Open Source- Which one to choose","author":{"id":"vicky002"}},"fields":{"slug":"/2017/07/competitive-programming-and-open-source"}},"prev":{"frontmatter":{"title":"Slack Internship Experience- San Francisco and Silicon Valley","author":{"id":"vicky002"}},"fields":{"slug":"/2017/07/slack-internship-experience"}}}}